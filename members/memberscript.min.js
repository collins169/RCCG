function select(occupation){if(occupation.options[occupation.selectedIndex].value=="student"){document.getElementById("school").style.display="block";document.getElementById("school2").style.display="block"}else{document.getElementById("school").style.display="none";document.getElementById("school2").style.display="none"}}
function select2(occupation){if(occupation.options[occupation.selectedIndex].value=="student"){document.getElementById("editschool").style.display="block";document.getElementById("editschool2").style.display="block"}else{document.getElementById("editschool").style.display="none";document.getElementById("editschool2").style.display="none"}}
$(document).ready(function(){$.getJSON(BASE_URL+'/countries/get',function(data){$.each(data,function(index){$('#country').append('<option value=""'+data[index].id+'>'+data[index].name+'</option>')})});$.getJSON(BASE_URL+'/families/get',function(data){$.each(data,function(index){$('#family').append('<option value=""'+data[index].id+'>'+data[index].name+'</option>')})});$.getJSON(BASE_URL+'/departments/get',function(data){$.each(data,function(index){$('#dept').append('<option value=""'+data[index].id+'>'+data[index].name+'</option>')})});$.getJSON(BASE_URL+'/schools/get',function(data){$.each(data,function(index){$('#school').append('<option value=""'+data[index].id+'>'+data[index].name+'</option>')})});$.getJSON(BASE_URL+'/groups/get',function(data){$.each(data,function(index){$('#group').append('<option value=""'+data[index].id+'>'+data[index].name+'</option>')})});$('#example').DataTable({"ajax":BASE_URL+'/members/all',"dataSrc":"","columns":[{"data":"id"},{"data":"surname"},{"data":"first_name"},{"data":"phone"},{"data":"gender"},{"data":"email"},{"data":"action"}],"processing":!0,"language":{"aria":{"sortAscending":": activate to sort column ascending","sortDescending":": activate to sort column descending"},"emptyTable":"No data available in table","info":"Showing _START_ to _END_ of _TOTAL_ entries","infoEmpty":"No entries found","infoFiltered":"(filtered1 from _MAX_ total entries)","lengthMenu":"_MENU_ entries","search":"Search:","zeroRecords":"No matching records found"},buttons:[{extend:'print',className:'btn default'},{extend:'copy',className:'btn default'},{extend:'pdf',className:'btn default'},{extend:'excel',className:'btn default'},{extend:'csv',className:'btn default'},{text:'Reload',className:'btn default',action:function(e,dt,node,config){dt.ajax.reload()}}],"order":[[0,'asc']],"lengthMenu":[[5,10,15,20,30,50,60,-1],[5,10,15,20,30,50,60,"All"]],"pageLength":20,"dom":"<'row' <'col-md-12'B>><'row'<'col-md-6 col-sm-12'l><'col-md-6 col-sm-12'f>r><'table-scrollable't><'row'<'col-md-5 col-sm-12'i><'col-md-7 col-sm-12'p>>",})});function view(id){$.getJSON(BASE_URL+'/members/get?id='+id,function(data){$('#editsurname').val(data.surname);$('#editfirst_name').val(data.first_name);$('#editmiddle_name').val(data.middle_name);$('#editdob').val(data.dob);$('#editgender').val(data.gender);$('#editid').val(data.id);$('#editemail').val(data.email);$('#editjoin_date').val(data.date_joined);$('#editaddress').val(data.address);$('#editoccupation').val(data.occupation);$('#editphone').val(data.phone);$('#editother_phone').val(data.other_phone);$('#editmartial_status').val(data.martial_status);var countries_id=data.countries_id;var families_id=data.families_id;var groups_id=data.groups_id;var dept_id=data.departments_id;var schools_id=data.schools_id;$.getJSON(BASE_URL+'/countries/get',function(data){$.each(data,function(index){if(data[index].id==countries_id){$('#editcountry').append('<option value=""'+data.countries_id+' selected>'+data[index].name+'</option>')}else{$('#editcountry').append('<option value=""'+data[index].id+'>'+data[index].name+'</option>')}})});$.getJSON(BASE_URL+'/families/get',function(data){$.each(data,function(index){if(data[index].id==families_id){$('#editfamily').append('<option value=""'+data.countries_id+' selected>'+data[index].name+'</option>')}else{$('#editfamily').append('<option value=""'+data[index].id+'>'+data[index].name+'</option>')}})});$.getJSON(BASE_URL+'/departments/get',function(data){$.each(data,function(index){if(data[index].id==dept_id){$('#editdept').append('<option value=""'+data.countries_id+' selected>'+data[index].name+'</option>')}else{$('#editdept').append('<option value=""'+data[index].id+'>'+data[index].name+'</option>')}})});$.getJSON(BASE_URL+'/schools/get',function(data){$.each(data,function(index){if(data[index].id==schools_id){$('#editschool').append('<option value=""'+data.countries_id+' selected>'+data[index].name+'</option>')}else{$('#editschool').append('<option value=""'+data[index].id+'>'+data[index].name+'</option>')}})});$.getJSON(BASE_URL+'/groups/get',function(data){$.each(data,function(index){if(data[index].id==groups_id){$('#editgroup').append('<option value=""'+data.countries_id+' selected>'+data[index].name+'</option>')}else{$('#editgroup').append('<option value=""'+data[index].id+'>'+data[index].name+'</option>')}})})})}